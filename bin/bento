#!/usr/bin/env ruby

# https://medium.com/@aayushsharda/why-to-use-load-path-in-ruby-ce971bc1d864
libx = File.expand_path("../../lib", __FILE__)
$LOAD_PATH.unshift(libx) unless $LOAD_PATH.include?(libx)
puts $LOAD_PATH

Signal.trap("INT") { exit 1 }

$stdout.sync = true
$stderr.sync = true

require_relative "../lib/bento/cli"

begin
  Runner.new(Options.parse(ARGV)).start
rescue => ex
  warn ">>> #{ex.message}"
  exit(($CHILD_STATUS && $CHILD_STATUS.exitstatus) || 99)
end
